# Jest və React Testing Library nədir? Nə iş görürlər? Aralarındakı fərq nədir?

---

## Jest nədir?

**Jest** JavaScript ekosistemində ən çox istifadə olunan **test runner** və **assertion** (yoxlama) kitabxanalarından biridir 

Jest-in əsas gördüyü işlər:

- **Testləri işə salır (test runner)**  
  `*.test.js`, `*.spec.js` kimi faylları tapır və testləri icra edir.
  `=> test, it, describe kimi funksiyaları verir`
- **Assertion (yoxlama) təmin edir**  
  `expect(...).toBe(...)`, `expect(...).toEqual(...)` kimi yoxlamalar yazırsan.
- **Mocking (saxta obyekt/funksiya yaratmaq)**  
  API çağırışlarını, modulları və funksiyaları “saxtalaşdırıb” test edirsən.
- **Spy / call tracking**  
  Funksiyanın neçə dəfə çağırıldığını, hansı parametrlərlə çağırıldığını izləyirsən.
- **Snapshot testing**  
  UI-nin çıxışını (render nəticəsini) “snapshot” kimi saxlayıb dəyişiklikləri izləyə bilərsən.
- **Coverage (test əhatəsi)**  
  Kodunun neçə faizinin testləndiyini hesablaya bilir.

Qısa desək: **Jest testin “mühərriki”dir** — testləri tapır, işə salır və nəticəni raport edir.

---

## React Testing Library (RTL) nədir?

**React Testing Library** React komponentlərini test etmək üçün hazırlanmış bir kitabxanadır. RTL-in əsas fəlsəfəsi:

> **Komponenti istifadəçi necə görür və necə istifadə edirsə, elə də test et.**

RTL-in əsas gördüyü işlər:

- **Komponenti DOM-a render edir**  
  Test mühitində (jsdom) komponenti səhifə kimi “çıxarır”.
- **İstifadəçi yönümlü seçimlər (queries) verir**  
  `getByRole`, `getByText`, `getByLabelText` və s. ilə elementləri tapırsan.
- **İstifadəçi davranışını simulyasiya edir**  
  Klik, input yazma, forma göndərmə kimi hərəkətləri imitasiya edirsən (çox vaxt `@testing-library/user-event` ilə).
- **Implementation detail-lərdən uzaq testlər**  
  Komponentin daxili state-i, private funksiyaları yox, istifadəçinin gördüyü nəticə önəmlidir.

Qısa desək: **RTL testin UI tərəfidir** — komponenti render edir, ekrandakı nəticəni tapıb yoxlayırsan.

---

## Jest vs React Testing Library: Aralarındakı fərq

| Mövzu | Jest | React Testing Library |
|------|------|------------------------|
| Rolu | Testləri işlədən və yoxlama aparan framework | UI komponentlərini istifadəçi kimi test etməyə yardım edən kitabxana |
| Nəyi idarə edir? | Test runner, assertions, mocking, coverage | Render, DOM queries, user interaction (user-event) |
| React-ə bağlıdır? | Xeyr (JS ümumi) | Bəli (React komponent testləri üçün) |
| Tək başına yetərlidirmi? | UI testləri üçün tək başına çətin olur | Testləri işə salmaq üçün Jest kimi runner lazımdır |
| Fokus | “Bu funksiya belə işləyir?” | “İstifadəçi bunu ekranda görür və edir?” |

**Sadə nəticə:**
- Jest = **test infrastrukturu** (işə salma, yoxlama, mock)
- RTL = **React UI test alətləri** (render + istifadəçi yönümlü test)

Adətən birlikdə işləyirlər: **Jest testləri işə salır, RTL isə komponenti test etməyə kömək edir.**

---

## Niyə birlikdə istifadə olunur?

React layihələrində standart yanaşma belədir:

- Jest: testləri işə salır + `expect` ilə nəticələri yoxlayır
- RTL: komponenti render edir + elementləri tapır + istifadəçi davranışını simulyasiya edir

Bu ikisi birlikdə daha sağlam testlər yaradır:
- Testlər “daxili implementasiya”ya yox,
- real istifadəçi təcrübəsinə yaxın olur.

---

## Kiçik nümunə (Jest + RTL)

Aşağıdakı nümunə sadəcə konsepti göstərir:

```js
import { render, screen } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import Counter from "./Counter";

test("istifadəçi + düyməsinə klik edəndə say artır", async () => {
  render(<Counter />);

  const incButton = screen.getByRole("button", { name: /\+/i });
  await userEvent.click(incButton);

  expect(screen.getByText("1")).toBeInTheDocument();
});
