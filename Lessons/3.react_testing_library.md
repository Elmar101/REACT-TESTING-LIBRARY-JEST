# React Testing Library (RTL) â€” GeniÅŸ vÉ™ ÆtraflÄ± Ä°zah

Bu sÉ™nÉ™d **React Testing Library**-nin rÉ™smi dokumentasiyasÄ±nda olan anlayÄ±ÅŸlarÄ±
**sadÉ™ dildÉ™, real nÃ¼munÉ™lÉ™rlÉ™ vÉ™ praktik yanaÅŸma ilÉ™** izah edir.

Bu README-ni oxuyandan sonra:
- RTL-in **fÉ™lsÉ™fÉ™sini**
- bÃ¼tÃ¼n É™sas **API-lÉ™ri**
- **nÉ™yi test etmÉ™li, nÉ™yi etmÉ™mÉ™li**
- **best practice**-lÉ™ri

aydÄ±n baÅŸa dÃ¼ÅŸÉ™cÉ™ksÉ™n.

---

## 1ï¸âƒ£ React Testing Library nÉ™dir?

**React Testing Library (RTL)** â€” React komponentlÉ™rini **istifadÉ™Ã§i baxÄ±ÅŸ bucaÄŸÄ±ndan** test etmÉ™k Ã¼Ã§Ã¼n kitabxanadÄ±r.

> RTL-in É™sas mÉ™qsÉ™di:
> â€œKomponentin necÉ™ yazÄ±ldÄ±ÄŸÄ±nÄ± yox, istifadÉ™Ã§i Ã¼Ã§Ã¼n necÉ™ davrandÄ±ÄŸÄ±nÄ± test et.â€

ğŸ“Œ RTL:
- test runner deyil âŒ
- assertion library deyil âŒ
- **Jest ilÉ™ birlikdÉ™** iÅŸlÉ™yir âœ…

---

## 2ï¸âƒ£ RTL-in fÉ™lsÉ™fÉ™si (Ã‡OX VACÄ°B)

RTL 3 É™sas prinsip Ã¼zÉ™rindÉ™ qurulub:

### 2.1 Ä°stifadÉ™Ã§i kimi test et
- state-É™ baxma âŒ
- props-u yoxlama âŒ
- className test etmÉ™ âŒ

âœ… istifadÉ™Ã§i nÉ™ gÃ¶rÃ¼r?
âœ… istifadÉ™Ã§i nÉ™ kliklÉ™yir?
âœ… hansÄ± text ekranda var?

---

### 2.2 Implementation detail test etmÉ™
expect(component.state.isOpen).toBe(true);
âœ… YaxÅŸÄ± test:
expect(screen.getByText("Modal opened")).toBeInTheDocument();
2.3 DOM Ã¼zÉ™rindÉ™n test et
RTL sÉ™nÉ™:

React instance vermir

component instance vermir

O yalnÄ±z real DOM ilÉ™ iÅŸlÉ™yir.

3ï¸âƒ£ QuraÅŸdÄ±rma
npm install --save-dev @testing-library/react
AdÉ™tÉ™n birlikdÉ™:
npm install --save-dev @testing-library/jest-dom
jest-dom â†’ daha oxunaqlÄ± assertion-lar verir:
expect(element).toBeInTheDocument();
expect(button).toBeDisabled();
4ï¸âƒ£ render â€” hÉ™r ÅŸey buradan baÅŸlayÄ±r
import { render } from "@testing-library/react";

render(<Button />);
render: komponenti virtual DOM-a Ã§Ä±xarÄ±r

test mÃ¼hiti yaradÄ±r

4.1 Wrapper ilÉ™ render (context, redux vÉ™ s.)
render(
  <ThemeProvider>
    <App />
  </ThemeProvider>
);
5ï¸âƒ£ screen â€” DOM-a Ã§Ä±xÄ±ÅŸ nÃ¶qtÉ™si
RTL tÃ¶vsiyÉ™ edir ki:
âŒ const { getByText } = render()
âœ… screen.getByText()
import { screen } from "@testing-library/react";

screen.getByText("Login");
6ï¸âƒ£ Element tapma Ã¼sullarÄ± (Queries)
6.1 Query nÃ¶vlÉ™ri
Query	DavranÄ±ÅŸ
getBy*	DÉ™rhal tapmalÄ±dÄ±r
queryBy*	Tapmasa null
findBy*	Async, gÃ¶zlÉ™yir

6.2 Æn tÃ¶vsiyÉ™ olunan query sÄ±rasÄ±
RTL rÉ™smi olaraq bu prioriteti verir:

getByRole

getByLabelText

getByPlaceholderText

getByText

getByDisplayValue

getByTestId (É™n son Ã§arÉ™)

6.3 getByRole (ÆN YAXÅI PRAKTÄ°KA)
<button>Submit</button>
screen.getByRole("button", { name: /submit/i });
ğŸ“Œ Bu: accessibility-ni test edir
screen reader davranÄ±ÅŸÄ±na yaxÄ±ndÄ±r

6.4 getByLabelText
<label htmlFor="email">Email</label>
<input id="email" />
screen.getByLabelText(/email/i);
6.5 getByText
screen.getByText("Welcome");
Regex istifadÉ™ etmÉ™k tÃ¶vsiyÉ™ olunur:
screen.getByText(/welcome/i);
6.6 getByTestId (SON Ã‡ARÆ)
<div data-testid="loader" />
screen.getByTestId("loader");
ğŸ“Œ YalnÄ±z baÅŸqa yol yoxdursa istifadÉ™ et.

7ï¸âƒ£ Ä°stifadÉ™Ã§i davranÄ±ÅŸÄ± â€” userEvent
7.1 fireEvent vs userEvent
fireEvent	userEvent
SÃ¼ni	Real
TÉ™k event	Bir neÃ§É™ event
TÃ¶vsiyÉ™ edilmir	TÃ¶vsiyÉ™ olunur

7.2 userEvent nÃ¼munÉ™si
import userEvent from "@testing-library/user-event";

const user = userEvent();

await user.type(input, "test@mail.com");
await user.click(button);
8ï¸âƒ£ Form testlÉ™ri
test("login form", async () => {
  const user = userEvent();
  render(<Login />);

  await user.type(screen.getByLabelText(/email/i), "a@a.com");
  await user.type(screen.getByLabelText(/password/i), "123456");
  await user.click(screen.getByRole("button", { name: /login/i }));

  expect(await screen.findByText(/success/i)).toBeInTheDocument();
});
9ï¸âƒ£ Async testlÉ™r (qÄ±sa xÃ¼lasÉ™)
findBy* â†’ gec gÉ™lÉ™n UI

waitFor â†’ ÅŸÉ™rtli dÉ™yiÅŸiklik

API â†’ mockResolvedValue

await screen.findByText("Data loaded");
ğŸ”Ÿ waitFor

await waitFor(() => {
  expect(screen.queryByText(/loading/i)).not.toBeInTheDocument();
});
1ï¸âƒ£1ï¸âƒ£ within â€” scoped query
const card = screen.getByTestId("card");

within(card).getByText("Title");
1ï¸âƒ£2ï¸âƒ£ Cleanup (avtomatikdir)
RTL hÉ™r testdÉ™n sonra DOM-u avtomatik tÉ™mizlÉ™yir.
ÆllÉ™ cleanup() Ã§aÄŸÄ±rmaÄŸa ehtiyac yoxdur.

1ï¸âƒ£3ï¸âƒ£ NÆYÄ° TEST ETMÆMÆLÄ°SÆN âŒ
state

props

className

styled-components daxili stillÉ™ri

React lifecycle

1ï¸âƒ£4ï¸âƒ£ NÆYÄ° TEST ETMÆLÄ°SÆN âœ…
text gÃ¶rÃ¼nÃ¼rmÃ¼?

button disabled-dir?

klikdÉ™n sonra UI dÉ™yiÅŸir?

error mesajÄ± Ã§Ä±xÄ±r?

1ï¸âƒ£5ï¸âƒ£ Best Practices (QIZIL QAYDALAR)
âœ… Ä°stifadÉ™Ã§i kimi test et
âœ… getByRole-dan baÅŸla
âœ… Regex istifadÉ™ et
âœ… Async UI Ã¼Ã§Ã¼n findBy*
âŒ Implementation detail test etmÉ™

1ï¸âƒ£6ï¸âƒ£ Mini Tam NÃ¼munÉ™
test("full flow", async () => {
  const user = userEvent.setup();
  render(<App />);

  await user.click(screen.getByRole("button", { name: /load/i }));

  expect(await screen.findByText("Loaded")).toBeInTheDocument();
});
1ï¸âƒ£7ï¸âƒ£ XÃ¼lasÉ™
React Testing Library sÉ™ni daha dÃ¼zgÃ¼n test yazmaÄŸa mÉ™cbur edir.

ÆgÉ™r testin qÄ±rÄ±lÄ±rsa:

ya UI doÄŸrudan da sÉ™hvdir

ya da test implementation-a Ã§ox baÄŸlÄ±dÄ±r